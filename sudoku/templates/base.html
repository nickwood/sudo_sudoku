<!DOCTYPE html>
<html lang="en">
<head>
    {% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
    <title>Sudo Sudoku</title>
    {% endblock %}
</head>
<body>
    <div id="navbar">
        <ul>
            <li><p>Sudo&nbsp;Sudoku</p></li>
            <li><a href="/solve">Solve</a></li>
            <li><a href="/generate">Generate</a></li>
            <li><a href="/analyse">Analyse</a></li>
        </ul>
    </div>
    {% if grid is not defined %}
    {% set grid = {} %}
    {% endif %}
    {% if invalid is not defined or invalid is none %}
    {% set invalid = [] %}
    {% endif %}
    {% if errors is defined and errors is not none %}
    <div id="messages">
        {% for err in errors %}
        <p>{{ err }}</p>
        {% endfor %}
    </div>
    {% endif %}
    <div id="content">
    <form id="interface" action="/solve" method="post">
        <div id="game">
            <table id="grid" style="border-collapse: collapse;">
            {% for row in '123456789' %}
            <tr class="row">
                {% for col in 'ABCDEFGHJ' %}
                    {% set cell = col + row|string %}
                    <td class="cell">
                        <input class="{{ 'invalid' if cell in invalid }}" 
                        type="text" name="{{ cell }}" 
                        value="{{ grid.get(cell, '') }}" 
                        maxlength="1">
                    </td>
                {% endfor %}
                </tr>
            {% endfor %}
            </table>
        </div>
        <div id="controls">
            {% block controls %}{% endblock %}
            <button type="submit">solve</button>
            <!-- <button type="submit" formaction="analyse">analyse</button> -->
        </div>
    </form>
    </div>
    <div id="footer">
        {% block footer %}
        This work is licensed under the terms of the <a href="https://opensource.org/licenses/MIT">MIT license</a><br>
        Full source is available on <a href="https://github.com/nickwood/sudo_sudoku">GitHub</a>.
        {% endblock %}
    </div>
</body>
</html>